<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>图标生成器</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- 左侧图标列表 -->
    <div class="sidebar">
        <h2>🎨 图标类型</h2>
        <ul class="icon-list">
            <li class="icon-item">
                <button class="icon-btn active" data-icon="calculator">
                    <span class="icon-emoji">🧮</span>
                    <span>计算器</span>
                </button>
            </li>
            <li class="icon-item">
                <button class="icon-btn" data-icon="mouse">
                    <span class="icon-emoji">🖱️</span>
                    <span>鼠标</span>
                </button>
            </li>
            <li class="icon-item">
                <button class="icon-btn" data-icon="keyboard">
                    <span class="icon-emoji">⌨️</span>
                    <span>键盘</span>
                </button>
            </li>
            <li class="icon-item">
                <button class="icon-btn" data-icon="monitor">
                    <span class="icon-emoji">🖥️</span>
                    <span>显示器</span>
                </button>
            </li>
            <li class="icon-item">
                <button class="icon-btn" data-icon="location">
                    <span class="icon-emoji">📍</span>
                    <span>定位</span>
                </button>
            </li>
            <li class="icon-item">
                <button class="icon-btn" data-icon="custom">
                    <span class="icon-emoji">🎨</span>
                    <span>自定义AI生成</span>
                </button>
            </li>
        </ul>
    </div>
    
    <!-- 右侧主内容区 -->
    <div class="main-content">
        <div class="preview-container">
            <h1 id="iconTitle">🧮 计算器图标</h1>
            
            <div class="canvas-container">
                <canvas id="previewCanvas" width="256" height="256"></canvas>
                <p class="info">预览 (256x256)</p>
            </div>
            
            <button class="generate-btn" onclick="openSizeModal()">
                🎨 生成并下载图标
            </button>
            
            <p class="info" id="iconDescription">
                点击按钮将生成一个1024x1024像素的计算器图标并自动下载
            </p>
        </div>
    </div>
    
    <!-- 尺寸选择弹窗 -->
    <div class="size-modal" id="sizeModal">
        <div class="size-modal-content">
            <div class="size-modal-header">
                <h3>📏 选择尺寸</h3>
                <button class="close-btn" onclick="closeSizeModal()">&times;</button>
            </div>
            <div class="size-options">
                <div class="download-type-tabs">
                    <button class="tab-btn active" data-type="custom">自定义尺寸</button>
                    <button class="tab-btn" data-type="ios">iOS应用图标</button>
                </div>
                
                <div class="tab-content" id="customSizeTab">
                    <div class="preset-sizes">
                        <button class="size-btn" data-size="24">24px</button>
                        <button class="size-btn" data-size="32">32px</button>
                        <button class="size-btn" data-size="64">64px</button>
                        <button class="size-btn" data-size="128">128px</button>
                        <button class="size-btn active" data-size="1024">1024px</button>
                    </div>
                    <div class="custom-size">
                        <input type="number" id="customSize" placeholder="自定义" min="16" max="2048" value="1024">
                        <span class="px-label">px</span>
                    </div>
                </div>
                
                <div class="tab-content" id="iosSizeTab" style="display: none;">
                    <div class="ios-info">
                        <p class="ios-description">📱 一键下载所有iOS应用图标尺寸，包含iPhone、iPad所需的所有规格，自动压缩为ZIP文件</p>
                    </div>
                    <div class="ios-sizes">
                        <div class="ios-category">
                            <h4>📱 iPhone 主屏幕</h4>
                            <div class="ios-size-grid">
                                <div class="ios-size-item">
                                    <span class="ios-size-name">appIcon_60@2x.png</span>
                                    <span class="ios-size-value">120×120</span>
                                </div>
                                <div class="ios-size-item">
                                    <span class="ios-size-name">appIcon_60@3x.png</span>
                                    <span class="ios-size-value">180×180</span>
                                </div>
                            </div>
                        </div>
                        <div class="ios-category">
                            <h4>⚙️ 设置 & 通知</h4>
                            <div class="ios-size-grid">
                                <div class="ios-size-item">
                                    <span class="ios-size-name">appIcon_29.png</span>
                                    <span class="ios-size-value">29×29</span>
                                </div>
                                <div class="ios-size-item">
                                    <span class="ios-size-name">appIcon_29@2x.png</span>
                                    <span class="ios-size-value">58×58</span>
                                </div>
                                <div class="ios-size-item">
                                    <span class="ios-size-name">appIcon_29@3x.png</span>
                                    <span class="ios-size-value">87×87</span>
                                </div>
                                <div class="ios-size-item">
                                    <span class="ios-size-name">appIcon_20.png</span>
                                    <span class="ios-size-value">20×20</span>
                                </div>
                                <div class="ios-size-item">
                                    <span class="ios-size-name">appIcon_20@2x.png</span>
                                    <span class="ios-size-value">40×40</span>
                                </div>
                                <div class="ios-size-item">
                                    <span class="ios-size-name">appIcon_20@3x.png</span>
                                    <span class="ios-size-value">60×60</span>
                                </div>
                            </div>
                        </div>
                        <div class="ios-category">
                            <h4>🔍 Spotlight 搜索</h4>
                            <div class="ios-size-grid">
                                <div class="ios-size-item">
                                    <span class="ios-size-name">appIcon_40.png</span>
                                    <span class="ios-size-value">40×40</span>
                                </div>
                                <div class="ios-size-item">
                                    <span class="ios-size-name">appIcon_40@2x.png</span>
                                    <span class="ios-size-value">80×80</span>
                                </div>
                                <div class="ios-size-item">
                                    <span class="ios-size-name">appIcon_40@3x.png</span>
                                    <span class="ios-size-value">120×120</span>
                                </div>
                            </div>
                        </div>
                        <div class="ios-category">
                            <h4>📱 iPad</h4>
                            <div class="ios-size-grid">
                                <div class="ios-size-item">
                                    <span class="ios-size-name">appIcon_76@2x.png</span>
                                    <span class="ios-size-value">152×152</span>
                                </div>
                                <div class="ios-size-item">
                                    <span class="ios-size-name">appIcon_83.5@2x.png</span>
                                    <span class="ios-size-value">167×167</span>
                                </div>
                            </div>
                        </div>
                        <div class="ios-category">
                            <h4>🏪 App Store</h4>
                            <div class="ios-size-grid">
                                <div class="ios-size-item">
                                    <span class="ios-size-name">appIcon_1024.png</span>
                                    <span class="ios-size-value">1024×1024</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="size-info">
                <p class="current-size">当前尺寸: <span id="currentSizeDisplay">1024px</span></p>
                <p class="size-tip">💡 常用尺寸: 24px(工具栏), 32px(任务栏), 64px(桌面), 128px(应用商店), 1024px(高质量)</p>
            </div>
            <div class="modal-actions">
                <button class="cancel-btn" onclick="closeSizeModal()">取消</button>
                <button class="confirm-btn" id="confirmBtn" onclick="confirmSizeAndDownload()">确认并下载</button>
            </div>
        </div>
    </div>

    <!-- AI生成提示词弹窗 -->
    <div class="ai-modal" id="aiModal">
        <div class="ai-modal-content">
            <div class="ai-modal-header">
                <h3>🎨 AI图标生成</h3>
                <button class="close-btn" onclick="closeAIModal()">&times;</button>
            </div>
            <div class="ai-modal-body">
                <div class="ai-input-section">
                    <label for="aiPrompt">描述你想要的图标：</label>
                    <textarea id="aiPrompt" placeholder="例如：calculator icon, minimalist style, blue color, white background" rows="3"></textarea>
                </div>
                <div class="ai-examples">
                    <p class="examples-title">💡 提示词示例：</p>
                    <div class="example-tags">
                        <span class="example-tag" onclick="setAIPrompt('calculator icon, blue')">计算器</span>
                        <span class="example-tag" onclick="setAIPrompt('music icon, purple')">音乐</span>
                        <span class="example-tag" onclick="setAIPrompt('heart icon, red')">爱心</span>
                        <span class="example-tag" onclick="setAIPrompt('star icon, yellow')">星星</span>
                        <span class="example-tag" onclick="setAIPrompt('gear icon, grey')">齿轮</span>
                        <span class="example-tag" onclick="setAIPrompt('home icon, green')">家</span>
                        <span class="example-tag" onclick="setAIPrompt('camera icon, orange')">相机</span>
                        <span class="example-tag" onclick="setAIPrompt('game icon, pink')">游戏</span>
                        <span class="example-tag" onclick="setAIPrompt('shopping icon, teal')">购物</span>
                        <span class="example-tag" onclick="setAIPrompt('weather icon, cyan')">天气</span>
                    </div>
                </div>
                <div class="ai-tips">
                    <p>💡 提示：输入图标描述，系统会根据关键词智能生成图标。支持中英文，包含颜色、类型等关键词效果更好</p>
                </div>
            </div>
            <div class="ai-modal-actions">
                <button class="cancel-btn" onclick="closeAIModal()">取消</button>
                <button class="generate-ai-btn" onclick="generateAIIcon()" id="generateAIBtn">
                    <span class="btn-text">🎨 生成图标</span>
                    <span class="btn-loading" style="display: none;">⏳ 生成中...</span>
                </button>
            </div>
        </div>
    </div>

    <!-- 引入JavaScript文件 -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
    <script src="js/utils.js"></script>
    <script src="js/calculator-icon.js"></script>
    <script src="js/mouse-icon.js"></script>
    <script src="js/keyboard-icon.js"></script>
    <script src="js/monitor-icon.js"></script>
    <script src="js/location-icon.js"></script>
    <script src="js/main.js"></script>
</body>
</html>